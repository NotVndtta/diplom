<%= form_with(model: job_card, class: "max-w-xl mx-auto space-y-5") do |form| %>
  <% if job_card.errors.any? %>
    <div class="bg-red-100 text-red-600 px-4 py-3 rounded-md">
      <h2 class="font-semibold mb-1"><%= pluralize(job_card.errors.count, "ошибка") %> не позволили сохранить форму:</h2>
      <ul class="list-disc list-inside text-sm">
        <% job_card.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% fields = {
    farm_name: "Название фермы",
    remuneration: "Оплата",
    work_amount: "Объем работы",
    description: "Описание",
    date_at: "Дата",
    location: "Локация",
    status: "Статус",
    count_users: "Требуемое количество работников"
  } %>

  <% fields.each do |field, label| %>
    <div>
      <%= form.label field, label, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= case field
        when :description
          form.text_area field, rows: 3, class: base_input_class(job_card, field)
        when :remuneration, :work_amount, :count_users
          form.number_field field, class: base_input_class(job_card, field)
        when :date_at
          form.date_field field, class: base_input_class(job_card, field)
        else
          form.text_field field, class: base_input_class(job_card, field)
      end %>
    </div>
  <% end %>

  <div>
    <%= form.submit "Сохранить", class: "w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-semibold px-4 py-2 rounded-md transition" %>
  </div>
<% end %>
