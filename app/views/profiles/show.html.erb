<div class="min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-2xl w-full space-y-8 bg-white shadow-lg rounded-xl p-6">
    <div class="flex items-center space-x-6">
      <div class="flex-shrink-0">
        <div class="h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center text-3xl font-bold text-gray-600">
          Должно быть фото
        </div>
      </div>
      <div>
        <h1 class="text-2xl font-bold text-gray-900">
          <%= @user.first_name %> <%= @user.last_name %>
        </h1>
        <p class="text-sm text-gray-500"><%= @user.email %></p>
        <p class="text-sm text-indigo-600 font-medium mt-1"><%= @user.role %></p>
      </div>
    </div>

    <div class="border-t border-gray-200 pt-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4"><%= t('profile.title') %></h2>
      <dl class="grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2">
        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t('profile.about') %></dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= @user.about.present? ? @user.about : t('profile.not_provided') %>
          </dd>
        </div>

        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t('profile.phone') %></dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= @user.phone.present? ? @user.phone : t('profile.not_provided') %>
          </dd>
        </div>

        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t('profile.birth_year') %></dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @user.birth_year %></dd>
        </div>

        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t('profile.city') %></dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @user.city %></dd>
        </div>
      </dl>
    </div>

    <div class="border-t border-gray-200 pt-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4"><%= t('profile.account_details') %></h2>
      <div class="space-y-4">
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500"><%= t('profile.account_created') %></span>
          <span class="text-sm text-gray-900">
            <%= @user.created_at.strftime("%B %d, %Y") %>
          </span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500"><%= t('profile.last_updated') %></span>
          <span class="text-sm text-gray-900">
            <%= @user.updated_at.strftime("%B %d, %Y") %>
          </span>
        </div>
      </div>
    </div>

    <div class="flex space-x-4 pt-6">
      <%= link_to t('profile.agro_operation'), job_cards_path, 
          class: "flex-1 text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
      <%= link_to t('profile.edit_profile'), edit_profile_path(@user), 
          class: "flex-1 text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
    </div>
  </div>
</div>

<% content_for :title, "Experiences" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="mt-6 bg-white shadow-lg rounded-xl p-6 w-1/2  mx-auto">
    <h2 class="text-lg font-semibold text-gray-900 mb-4">Add New Experience</h2>
    <%= form_with(model: [@user, Experience.new], url: profile_experiences_path(@user), class: "space-y-6") do |form| %>
      <% if Experience.new.errors.any? %>
        <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md">
          <h2><%= pluralize(Experience.new.errors.count, "error") %> prohibited this experience from being saved:</h2>
          <ul class="list-disc ml-6">
            <% Experience.new.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="my-5">
        <%= form.label :start_date_at, class: "block text-sm font-medium text-gray-700" %>
        <%= form.date_field :start_date_at, class: "mt-1 block w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 #{Experience.new.errors[:start_date_at].any? ? 'border-red-400' : 'border-gray-300'}" %>
      </div>

      <div class="my-5">
        <%= form.label :end_date_at, class: "block text-sm font-medium text-gray-700" %>
        <%= form.date_field :end_date_at, class: "mt-1 block w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 #{Experience.new.errors[:end_date_at].any? ? 'border-red-400' : 'border-gray-300'}" %>
      </div>

      <div class="my-5">
        <%= form.label :description, class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_area :description, rows: 4, class: "mt-1 block w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 #{Experience.new.errors[:description].any? ? 'border-red-400' : 'border-gray-300'}" %>
      </div>

      <div class="my-5">
        <%= form.label :company, class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_field :company, class: "mt-1 block w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 #{Experience.new.errors[:company].any? ? 'border-red-400' : 'border-gray-300'}" %>
      </div>

      <div class="inline">
        <%= form.submit "Create Experience", class: "w-full rounded-md px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
      </div>
    <% end %>
  </div>

  <div id="experiences" class="divide-y divide-gray-200 space-y-5 mt-6">
    <% if @experiences.any? %>
      <div class="flex flex-wrap justify-center gap-5">
        <% @experiences.each do |experience| %>
          <div class="flex flex-col sm:flex-row justify-between w-full sm:w-1/2  items-center pb-5 sm:pb-0">
            <%= render experience %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-center my-10">No experiences found.</p>
    <% end %>
  </div>
</div>